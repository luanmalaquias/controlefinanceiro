{% extends 'blankpage.html' %}
{% block title %}Cadastrar Usuario{% endblock %}
{% block content %}

<div class="container">
    <div class="row text-white bg-success mx-auto my-3">
        <h2 class="ps-5">Recuperar Senha</h2>
    </div>
    <form method="POST" autocomplete="off">
        {% csrf_token %}
        {{ formPerfil.as_p }}
        {% if usuario %}
        <div class="row">
            <div class="col-6">
                <!-- Senha -->
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" name="password1" required id="id_password1" placeholder="Senha">
                    <label for="id_password1">Nova Senha:</label>
                </div>
            </div>
            <div class="col-6">
                <!-- Confirmar senha -->
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" name="password2" required id="id_password2" placeholder="Confirmar senha">
                    <label for="id_password2">Confirmar Nova Senha:</label>
                </div>
            </div>
        </div>
        {% endif %}
        {% if erro %}
        <div class="alert alert-danger"><p>{{erro}}</p></div>
        {% endif %}
        <button type="submit" class="btn btn-success">Enviar</button>
    </form>
</div>


<script>
    // alterar ordem dos labels
    $('p label').each(function() {
        $(this).insertAfter( $(this).next('input') );
        $(this).insertAfter( $(this).next('select') );
    });
    // trocar os elementos P por DIVS
    $("p").each(function() {
        $(this).replaceWith("<div class=\"form-floating mb-3\">" + $(this).html() + "</div>");
    });

    // configurações dos inputs
    $('input').addClass('form-control')
    $('input').each(function(){
        $(this).attr('placeholder', 'placeholder');
    })
</script>

<!-- Máscaras -->
<script type="text/javascript">
    $('#id_cpf').mask('000.000.000-00');
    $('#id_data_de_nascimento').mask('00/00/0000')
</script>

{% endblock %}